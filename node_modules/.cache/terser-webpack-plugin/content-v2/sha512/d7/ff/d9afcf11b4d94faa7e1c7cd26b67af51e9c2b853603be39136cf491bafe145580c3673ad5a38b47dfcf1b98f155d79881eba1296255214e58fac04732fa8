{"map":"{\"version\":3,\"sources\":[\"/Users/kenshin/Documents/UnityProject/useDapp_demo/dapp/src/App.tsx\",\"/Users/kenshin/Documents/UnityProject/useDapp_demo/dapp/src/reportWebVitals.ts\",\"/Users/kenshin/Documents/UnityProject/useDapp_demo/dapp/src/index.tsx\"],\"names\":[\"unityContext\",\"UnityContext\",\"loaderUrl\",\"dataUrl\",\"frameworkUrl\",\"codeUrl\",\"App\",\"amount\",\"_useEthers\",\"useEthers\",\"activateBrowserWallet\",\"account\",\"deactivate\",\"sendTransaction\",\"useSendTransaction\",\"transactionName\",\"etherBalance\",\"useEtherBalance\",\"_useState\",\"useState\",\"_useState2\",\"Object\",\"slicedToArray\",\"isGameOver\",\"_useState3\",\"_useState4\",\"userName\",\"_useState5\",\"_useState6\",\"score\",\"useEffect\",\"on\",\"address\",\"console\",\"log\",\"to\",\"value\",\"react_default\",\"a\",\"createElement\",\"onClick\",\"formatEther\",\"send\",\"concat\",\"distribution_default\",\"reportWebVitals\",\"onPerfEntry\",\"Function\",\"__webpack_require__\",\"e\",\"then\",\"bind\",\"_ref\",\"getCLS\",\"getFID\",\"getFCP\",\"getLCP\",\"getTTFB\",\"config\",\"readOnlyChainId\",\"ChainId\",\"Kovan\",\"readOnlyUrls\",\"defineProperty\",\"ReactDOM\",\"render\",\"StrictMode\",\"DAppProvider\",\"src_App_0\",\"document\",\"getElementById\"],\"mappings\":\"6OAMMA,EAAe,IAAIC,EAAAA,aAAa,CACpCC,UAAW,8BACXC,QAAS,yBACTC,aAAc,iCACdC,QAAS,2BASX,IAyDeC,EAzDH,WAAM,IANWC,EAMXC,EACuCC,OAAAA,EAAAA,EAAAA,GAA/CC,EADQF,EACRE,sBAAuBC,EADfH,EACeG,QAAUC,EADzBJ,EACyBI,WAEjCC,EAAoBC,OAAAA,EAAAA,EAAAA,CAAmB,CAAEC,gBAAiB,kBAA1DF,gBACFG,EAAeC,OAAAA,EAAAA,EAAAA,CAAgBN,GAJrBO,EAMoBC,OAAAA,EAAAA,SAAAA,EAAS,GAN7BC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAMTK,EANSH,EAAA,GAAAI,GAAAJ,EAAA,GAOgBD,OAAAA,EAAAA,SAAAA,CAAS,KAPzBM,EAAAJ,OAAAC,EAAA,EAAAD,CAAAG,EAAA,GAOTE,EAPSD,EAAA,GAAAE,GAAAF,EAAA,GAQUN,OAAAA,EAAAA,SAAAA,CAAS,IARnBS,EAAAP,OAAAC,EAAA,EAAAD,CAAAM,EAAA,GAQTE,EARSD,EAAA,GAAAA,EAAA,GAoChB,OAzBAE,OAAAA,EAAAA,UAAAA,CAAU,WACR9B,EAAa+B,GAAG,YAAa,SAAUC,EAASzB,GAC9C0B,QAAQC,IAAIF,EAASzB,GACrBM,EAAgB,CAAEsB,GAAIH,EAASI,MAAO7B,MAQxCP,EAAa+B,GAAG,WAAY,SAAUL,EAAUG,GAC9CI,QAAQC,IAAIR,EAAUG,KAMxB7B,EAAa+B,GAAG,aAAc,WAC5BnB,OAGF,IAGKyB,EAAAC,EAAAC,cAAA,MAAA,KACLF,EAAAC,EAAAC,cAAA,MAAA,KACEF,EAAAC,EAAAC,cAAA,SAAA,CAAQC,QAAS,WACX9B,MADN,WAIKC,GAAW0B,EAAAC,EAAAC,cAAA,IAAA,KAAA,YAAa5B,GACxBK,IAjDkBT,EAiDkBkC,OAAAA,EAAAA,EAAAA,CAAYzB,GAhDzDhB,EAAa0C,KAAK,mBAAoB,sBAAuBnC,QAC7D0B,QAAQC,IAAI3B,KAiDV8B,EAAAC,EAAAC,cAAA,MAAA,KACAF,EAAAC,EAAAC,cAAA,SAAA,CAAQC,QAAS,WACT5B,MADR,eAIgB,IAAfW,GAAuBc,EAAAC,EAAAC,cAAA,IAAA,KAAA,cAAAI,OAAkBjB,EAAlB,KAAAiB,OAA8Bd,EAA9B,YACtBQ,EAAAC,EAAAC,cAACK,EAAAN,EAAD,CAAOtC,aAAcA,OCxDZ6C,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxCC,EAAAC,EAAA,GAAAC,KAAAF,EAAAG,KAAA,KAAA,MAAqBD,KAAK,SAAAE,GAAiD,IAA9CC,EAA8CD,EAA9CC,OAAQC,EAAsCF,EAAtCE,OAAQC,EAA8BH,EAA9BG,OAAQC,EAAsBJ,EAAtBI,OAAQC,EAAcL,EAAdK,QAC3DJ,EAAOP,GACPQ,EAAOR,GACPS,EAAOT,GACPU,EAAOV,GACPW,EAAQX,wBCFRY,EAAkB,CACtBC,gBAAiBC,EAAAA,EAAQC,MACzBC,aAAazC,OAAA0C,EAAA,EAAA1C,CAAA,GACVuC,EAAAA,EAAQC,MAAQ,gEAIrBG,EAAAA,EAASC,OACP5B,EAAAC,EAAAC,cAACF,EAAAC,EAAM4B,WAAP,KACE7B,EAAAC,EAAAC,cAAC4B,EAAA,EAAD,CAAcT,OAAQA,GACpBrB,EAAAC,EAAAC,cAAC6B,EAAD,QAGJC,SAASC,eAAe,SAM1BzB\",\"sourcesContent\":[\"import React, { useState, useEffect } from 'react';\\nimport logo from './logo.svg';\\nimport './App.css';\\nimport Unity, { UnityContext } from \\\"react-unity-webgl\\\";\\nimport { useEtherBalance, useEthers, useSendTransaction } from '@usedapp/core';\\nimport { formatEther,formatUnits} from '@ethersproject/units'\\nconst unityContext = new UnityContext({\\n  loaderUrl: \\\"unity/Build/Build.loader.js\\\",\\n  dataUrl: \\\"unity/Build/Build.data\\\",\\n  frameworkUrl: \\\"unity/Build/Build.framework.js\\\",\\n  codeUrl: \\\"unity/Build/Build.wasm\\\",\\n});\\n\\nfunction EtherBalanceToUnity(amount : string) {\\n  unityContext.send(\\\"GetAddressWallet\\\", \\\"EtherBalanceToUnity\\\", amount);\\n  console.log(amount);\\n}\\n\\n\\nconst App = () => {\\n  const { activateBrowserWallet, account , deactivate} = useEthers();\\n  \\n  const { sendTransaction } = useSendTransaction({ transactionName: 'Send Ethereum' });\\n  const etherBalance = useEtherBalance(account);\\n\\n  const [isGameOver, setIsGameOver] = useState(false);\\n  const [userName, setUserName] = useState(\\\"\\\");\\n  const [score, setScore] = useState(0);\\n\\n\\n  useEffect(function(){\\n    unityContext.on(\\\"SendTrans\\\", function (address, amount) {\\n      console.log(address, amount);\\n      sendTransaction({ to: address, value: amount})\\n    });\\n    \\n    // unityContext.on(\\\"SendTranscationFromUnity\\\",( address, amount) => {\\n      \\n    //   sendTransaction({ to: address, value: amount })\\n    // });\\n\\n    unityContext.on(\\\"GameOver\\\", function (userName, score) {\\n      console.log(userName, score);\\n      // setIsGameOver(true);\\n      // setUserName(userName);\\n      // setScore(score);\\n    });\\n\\n    unityContext.on(\\\"Disconnect\\\", function(){\\n      deactivate();\\n    });\\n\\n  },[]);\\n\\n  \\n  return <div>\\n    <div>\\n      <button onClick={() => { \\n            activateBrowserWallet(); \\n          }}>Connect</button>\\n\\n          {account && <p>Account: {account}</p>}\\n          {etherBalance && EtherBalanceToUnity(formatEther(etherBalance))}\\n    </div>\\n    <div>\\n    <button onClick={() => { \\n            deactivate(); \\n          }}>Disconnect</button>\\n          \\n    {isGameOver === true && <p>{`Game Over! ${userName} ${score} points`}</p>}\\n      <Unity unityContext={unityContext} />\\n    </div>\\n  </div>\\n    \\n}\\n\\nexport default App;\",\"import { ReportHandler } from 'web-vitals';\\n\\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\\n  if (onPerfEntry && onPerfEntry instanceof Function) {\\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\\n      getCLS(onPerfEntry);\\n      getFID(onPerfEntry);\\n      getFCP(onPerfEntry);\\n      getLCP(onPerfEntry);\\n      getTTFB(onPerfEntry);\\n    });\\n  }\\n};\\n\\nexport default reportWebVitals;\\n\",\"import React from 'react';\\nimport ReactDOM from 'react-dom';\\nimport './index.css';\\nimport App from './App';\\nimport reportWebVitals from './reportWebVitals';\\nimport { ChainId, Config, DAppProvider } from '@usedapp/core';\\n\\nconst config : Config = {\\n  readOnlyChainId: ChainId.Kovan,\\n  readOnlyUrls: {\\n    [ChainId.Kovan]: 'https://kovan.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161',\\n  },\\n}\\n\\nReactDOM.render(\\n  <React.StrictMode>\\n    <DAppProvider config={config}>\\n      <App />\\n    </DAppProvider>\\n  </React.StrictMode>,\\n  document.getElementById('root')\\n);\\n\\n// If you want to start measuring performance in your app, pass a function\\n// to log results (for example: reportWebVitals(console.log))\\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\\nreportWebVitals();\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{107:function(e,n){},118:function(e,n,t){\"use strict\";t.r(n);var a=t(23),c=t(4),o=t.n(c),l=t(77),i=t.n(l),u=(t(87),t(11)),r=(t(89),t(67)),d=t.n(r),s=t(96),f=t(129),b=t(128),m=t(56),v=new r.UnityContext({loaderUrl:\"unity/Build/Build.loader.js\",dataUrl:\"unity/Build/Build.data\",frameworkUrl:\"unity/Build/Build.framework.js\",codeUrl:\"unity/Build/Build.wasm\"});var O=function(){var e,n=Object(s.a)(),t=n.activateBrowserWallet,a=n.account,l=n.deactivate,i=Object(f.a)({transactionName:\"Send Ethereum\"}).sendTransaction,r=Object(b.a)(a),O=Object(c.useState)(!1),E=Object(u.a)(O,2),j=E[0],B=(E[1],Object(c.useState)(\"\")),w=Object(u.a)(B,2),g=w[0],p=(w[1],Object(c.useState)(0)),y=Object(u.a)(p,2),C=y[0];y[1];return Object(c.useEffect)(function(){v.on(\"SendTrans\",function(e,n){console.log(e,n),i({to:e,value:n})}),v.on(\"GameOver\",function(e,n){console.log(e,n)}),v.on(\"Disconnect\",function(){l()})},[]),o.a.createElement(\"div\",null,o.a.createElement(\"div\",null,o.a.createElement(\"button\",{onClick:function(){t()}},\"Connect\"),a&&o.a.createElement(\"p\",null,\"Account: \",a),r&&(e=Object(m.b)(r),v.send(\"GetAddressWallet\",\"EtherBalanceToUnity\",e),void console.log(e))),o.a.createElement(\"div\",null,o.a.createElement(\"button\",{onClick:function(){l()}},\"Disconnect\"),!0===j&&o.a.createElement(\"p\",null,\"Game Over! \".concat(g,\" \").concat(C,\" points\")),o.a.createElement(d.a,{unityContext:v})))},E=function(e){e&&e instanceof Function&&t.e(1).then(t.bind(null,125)).then(function(n){var t=n.getCLS,a=n.getFID,c=n.getFCP,o=n.getLCP,l=n.getTTFB;t(e),a(e),c(e),o(e),l(e)})},j=t(127),B=t(126),w={readOnlyChainId:j.a.Kovan,readOnlyUrls:Object(a.a)({},j.a.Kovan,\"https://kovan.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161\")};i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(B.a,{config:w},o.a.createElement(O,null))),document.getElementById(\"root\")),E()},82:function(e,n,t){e.exports=t(118)},87:function(e,n,t){},89:function(e,n,t){}},[[82,3,2]]]);","extractedComments":[]}